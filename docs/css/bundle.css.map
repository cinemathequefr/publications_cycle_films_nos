{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "..\\..\\App.svelte",
    "..\\..\\Cycle.svelte"
  ],
  "sourcesContent": [
    "<script>\r\n  import { onMount } from \"svelte\";\r\n  import Cycle from \"./Cycle.svelte\";\r\n  import _ from \"lodash\";\r\n\r\n  let cycles = (b =>\r\n    _(b)\r\n      .map(c => [\r\n        c[1],\r\n        `https://raw.githubusercontent.com/cinemathequefr/Publications_cycles/master/data/PROG75 Septembre-novembre 2020/PROG75_CYCL${c[0]} ${c[1]}/editable/PROG75_CYCL${c[0]}_FILMS_EDIT ${c[1]}.json`\r\n        // `https://raw.githubusercontent.com/cinemathequefr/Publications_cycles/master/data/PROG67 Mars-mai 2020/PROG67_CYCL${c[0]} ${c[1]}/editable/PROG67_CYCL${c[0]}_FILMS_EDIT ${c[1]}.json`\r\n      ])\r\n      .sortBy(c => _.kebabCase(c[0]))\r\n      .value())([\r\n  [11, \"Séances spéciales\"],\r\n  [13, \"Cinéma d'avant-garde\"],\r\n  [14, \"Cinéma bis\"],\r\n  // [18, \"Conservatoire des techniques cinématographiques\"],\r\n  [140, \"Aujourd'hui le cinéma\"],\r\n  [152, \"Parlons cinéma avec Nicolas Pariser\"],\r\n  [463, \"Andreï Kontchalovski\"],\r\n  [409, \"Don Siegel\"],\r\n  [459, \"Elizabeth Taylor\"],\r\n  [456, \"Gérard Oury\"],\r\n  [458, \"Hiroshi Shimizu\"],\r\n  [461, \"Léonide Moguy\"],\r\n  [472, \"Archi Vives\"],\r\n  [499, \"Jean-Claude Carrière\"],\r\n  [506, \"Louis de Funès\"],\r\n  [498, \"Luis Buñuel\"],\r\n  // [508, \"Semaine de la critique\"],\r\n  [510, \"Séances Jeune public\"],\r\n  [511, \"Hommage à Serge Korber\"],\r\n  [512, \"American Fringe 5\"],\r\n  [513, \"Pionnières du cinéma soviétique\"]\r\n  ]);\r\n\r\n  let data = [];\r\n\r\n  onMount(async () => {\r\n    await fetchData({ target: { value: cycles[0][1] } });\r\n  });\r\n\r\n  async function fetchData(e) {\r\n    console.log(e.target.value);\r\n\r\n    data = await fetch(e.target.value);\r\n    data = await data.json();\r\n\r\n    data = _(data)\r\n      .sortBy(d => _.kebabCase(d.titre))\r\n      .value();\r\n  }\r\n</script>\r\n\r\n<style>\r\n  select {\r\n    margin: 12px 0;\r\n    min-width: 400px;\r\n  }\r\n</style>\r\n\r\n<section class=\"menu\">\r\n  <div class=\"container\">\r\n    <select on:change={fetchData}>\r\n      {#each cycles as cycle}\r\n        <option value={cycle[1]}>{cycle[0]}</option>\r\n      {/each}\r\n    </select>\r\n\r\n  </div>\r\n</section>\r\n\r\n<section>\r\n\r\n  <div class=\"container\">\r\n    {#if data.length > 0}\r\n      <Cycle {data} />\r\n    {/if}\r\n  </div>\r\n</section>\r\n",
    "<script>\r\n  import { onMount } from \"svelte\";\r\n  import showdown from \"showdown\";\r\n  import _ from \"lodash\";\r\n  const converter = new showdown.Converter();\r\n  export let data;\r\n\r\n  function sel(e) {\r\n    e.target.select();\r\n    copyTextToClipboard(e.target.value);\r\n    // console.log(e.target.value);\r\n  }\r\n\r\n  /**\r\n   * nbsp\r\n   * Remplace les espaces en position d'insécable (cas usuels) par un insécable.\r\n   * @param {string} str\r\n   * @param {string} rep Chaîne à utiliser pour exprimer l'espace insécable (par défaut, entité HTML `&nbsp;`).\r\n   * @return {string}\r\n   */\r\n  function nbsp(str, rep = \"&nbsp;\") {\r\n    if (!str) return;\r\n    let o = str;\r\n    o = o.replace(/(\\x20)([\\?:!;\\xBB])/gi, `${rep}$2`); // Remplace un espace par un espace insécable dans les cas usuels\r\n    o = o.replace(/(\\xAB)(\\x20)/gi, `$1${rep}`); // Remplace un espace par un espace insécable après un guillemet français ouvrant\r\n    o = o.replace(/(\\s–)/gi, `${rep}–`); // Demi-cadratins\r\n    o = o.replace(/(–\\s)/gi, `–${rep}`); // Demi-cadratins\r\n    return o;\r\n  }\r\n\r\n  /**\r\n   * artTitre\r\n   * @description\r\n   * @param {string|null} art\r\n   * @param {string} titre\r\n   */\r\n  function artTitre(art, titre) {\r\n    return !art ? titre : art === \"L'\" ? art + titre : art + \" \" + titre;\r\n  }\r\n\r\n  function titreVo(film) {\r\n    if (film.titreNx) {\r\n      return `${film.titreNx} [${artTitre(film.artVo, film.titreVo)}]`;\r\n    } else {\r\n      return `${artTitre(film.artVo, film.titreVo)}`;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * nop\r\n   * Retire les balises `p` d'un fragment HTML.\r\n   * @param {string} str\r\n   * @return {string}\r\n   */\r\n  function nop(str) {\r\n    return str.replace(/<\\/?p>/gi, \"\");\r\n  }\r\n\r\n  function copyTextToClipboard(text) {\r\n    // https://stackoverflow.com/questions/400212/how-do-i-copy-to-the-clipboard-in-javascript\r\n    if (!navigator.clipboard) {\r\n      fallbackCopyTextToClipboard(text);\r\n      return true;\r\n    } else {\r\n      return navigator.clipboard.writeText(text);\r\n    }\r\n  }\r\n\r\n  function fallbackCopyTextToClipboard(text) {\r\n    var textArea = document.createElement(\"textarea\");\r\n    textArea.value = text;\r\n    document.body.appendChild(textArea);\r\n    cursorFocus(textArea);\r\n    textArea.select();\r\n\r\n    try {\r\n      var successful = document.execCommand(\"copy\");\r\n      var msg = successful ? \"successful\" : \"unsuccessful\";\r\n    } catch (err) {}\r\n\r\n    document.body.removeChild(textArea);\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .film {\r\n    margin: 0 0 36px 0;\r\n  }\r\n\r\n  .bold {\r\n    font-weight: 700;\r\n  }\r\n\r\n  input {\r\n    width: 100%;\r\n    border: solid 1px #ccc;\r\n    padding: 4px;\r\n    margin: 0 0 -1px 0;\r\n    transition: 0.5s;\r\n  }\r\n\r\n  textarea {\r\n    width: 100%;\r\n    overflow: hidden;\r\n    resize: none;\r\n    border: solid 1px #ccc;\r\n    padding: 4px;\r\n    margin: 0 0 -1px 0;\r\n    transition: 0.5s;\r\n  }\r\n\r\n  input:focus,\r\n  textarea:focus {\r\n    background-color: #ff9;\r\n  }\r\n\r\n  .hi {\r\n    color: #c36;\r\n  }\r\n\r\n  .pk {\r\n    font-size: 0.875rem;\r\n    color: #666;\r\n  }\r\n\r\n  .pk a {\r\n    color: inherit;\r\n  }\r\n</style>\r\n\r\n<p>\r\n  En se positionnant dans un champ, son contenu est collé automatiquement dans\r\n  le presse-papier (\r\n  <code>Ctrl-C</code>\r\n  inutile).\r\n  <br />\r\n  Le contenu\r\n  <span class=\"hi bold\">rose</span>\r\n  doit être collé dans Novius OS dans l'éditeur de source HTML.\r\n</p>\r\n\r\n{#each data as film}\r\n  <div class=\"film\">\r\n\r\n    <div class=\"pk\">\r\n      <a href=\"https://www.cinematheque.fr/film/{film.idFilm}.html\">\r\n        {film.idFilm}\r\n      </a>\r\n    </div>\r\n\r\n    <input\r\n      class=\"bold\"\r\n      type=\"text\"\r\n      readonly\r\n      on:click={sel}\r\n      value={artTitre(film.art, film.titre)} />\r\n\r\n    {#if film.titreVo}\r\n      <input\r\n        class=\"bold\"\r\n        type=\"text\"\r\n        readonly\r\n        on:click={sel}\r\n        value={titreVo(film)} />\r\n    {/if}\r\n\r\n    <input type=\"text\" readonly on:click={sel} value={film.realisateurs} />\r\n\r\n    {#if film.generique && film.generique.length > 0}\r\n      <input\r\n        type=\"text\"\r\n        readonly\r\n        on:click={sel}\r\n        value={`Avec ${film.generique.join(', ')}.`} />\r\n    {/if}\r\n\r\n    {#if film.adaptation}\r\n      <input\r\n        type=\"text\"\r\n        readonly\r\n        on:click={sel}\r\n        value={nop(nbsp(converter.makeHtml(film.adaptation)))} />\r\n    {/if}\r\n\r\n    {#if film.textes}\r\n      {#each film.textes as texte}\r\n        <textarea\r\n          rows=\"4\"\r\n          readonly\r\n          on:click={sel}\r\n          class=\"hi\"\r\n          value={nbsp(converter.makeHtml(texte.texte))} />\r\n      {/each}\r\n    {/if}\r\n\r\n  </div>\r\n{/each}\r\n"
  ],
  "names": [],
  "mappings": "AAwDE,MAAM,eAAC,CAAC,AACN,MAAM,CAAE,IAAI,CAAC,CAAC,CACd,SAAS,CAAE,KAAK,AAClB,CAAC;AC0BD,KAAK,4BAAC,CAAC,AACL,MAAM,CAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,AACpB,CAAC,AAED,KAAK,4BAAC,CAAC,AACL,WAAW,CAAE,GAAG,AAClB,CAAC,AAED,KAAK,4BAAC,CAAC,AACL,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,KAAK,CAAC,GAAG,CAAC,IAAI,CACtB,OAAO,CAAE,GAAG,CACZ,MAAM,CAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAClB,UAAU,CAAE,IAAI,AAClB,CAAC,AAED,QAAQ,4BAAC,CAAC,AACR,KAAK,CAAE,IAAI,CACX,QAAQ,CAAE,MAAM,CAChB,MAAM,CAAE,IAAI,CACZ,MAAM,CAAE,KAAK,CAAC,GAAG,CAAC,IAAI,CACtB,OAAO,CAAE,GAAG,CACZ,MAAM,CAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAClB,UAAU,CAAE,IAAI,AAClB,CAAC,AAED,iCAAK,MAAM,CACX,oCAAQ,MAAM,AAAC,CAAC,AACd,gBAAgB,CAAE,IAAI,AACxB,CAAC,AAED,GAAG,4BAAC,CAAC,AACH,KAAK,CAAE,IAAI,AACb,CAAC,AAED,GAAG,4BAAC,CAAC,AACH,SAAS,CAAE,QAAQ,CACnB,KAAK,CAAE,IAAI,AACb,CAAC,AAED,iBAAG,CAAC,CAAC,cAAC,CAAC,AACL,KAAK,CAAE,OAAO,AAChB,CAAC"
}